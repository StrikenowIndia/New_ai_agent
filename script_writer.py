# script_writer.py

import logging
logging.basicConfig(filename='log.txt', level=logging.INFO)

def generate_script(news_items):
    try:
        script = "ЁЯУ░ рдирдорд╕реНрдХрд╛рд░ рджреЛрд╕реНрддреЛрдВ, рд╕реНрд╡рд╛рдЧрдд рд╣реИ рдЖрдкрдХреЗ рдЕрдкрдиреЗ рдЪреИрдирд▓ рдкрд░ред рдЖрдЗрдП рдЬрд╛рдирддреЗ рд╣реИрдВ рдЖрдЬ рдХреА 5 рдмрдбрд╝реА рдЦрдмрд░реЗрдВ:\n\n"
        
        for i, news in enumerate(news_items, 1):
            headline = news['headline'].strip()
            summary = news['summary'].strip()
            script += f"ЁЯЧЮя╕П рдЦрдмрд░ {i}: {headline}\nЁЯСЙ {summary}\n\n"

        script += "ЁЯУМ рдзрдиреНрдпрд╡рд╛рдж! рдРрд╕реЗ рд╣реА рд▓реЗрдЯреЗрд╕реНрдЯ рдФрд░ рдЬрд╝рд░реВрд░реА рдЦрдмрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЪреИрдирд▓ рдХреЛ рд▓рд╛рдЗрдХ, рд╢реЗрдпрд░ рдФрд░ рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм рдЬрд╝рд░реВрд░ рдХрд░реЗрдВред ЁЯЩП"
        logging.info("тЬЕ Script generated successfully.")
        return script
    except Exception as e:
        logging.error(f"тЭМ Error in generate_script: {str(e)}")
        return "тЪая╕П рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬрдирд░реЗрдЯ рдХрд░рдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐ рд╣реБрдИред"

# Test example
if __name__ == "__main__":
    sample_news = [
        {"headline": "рднрд╛рд░рдд рдиреЗ рдЪрд╛рдВрдж рдкрд░ рдирдпрд╛ рдорд┐рд╢рди рднреЗрдЬрд╛", "summary": "ISRO рдиреЗ рдПрдХ рдФрд░ рдЪрдВрджреНрд░рдпрд╛рди рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ред"},
        {"headline": "рд╡реИрд╢реНрд╡рд┐рдХ рддрд╛рдкрдорд╛рди рд░рд┐рдХреЙрд░реНрдб рд╕реНрддрд░ рдкрд░", "summary": "рд╕рдВрдпреБрдХреНрдд рд░рд╛рд╖реНрдЯреНрд░ рдиреЗ рдЪреЗрддрд╛рд╡рдиреА рджреА рд╣реИ рдХрд┐ рдкреГрдереНрд╡реА рддреЗрдЬреА рд╕реЗ рдЧрд░реНрдо рд╣реЛ рд░рд╣реА рд╣реИред"}
    ]
    print(generate_script(sample_news))
